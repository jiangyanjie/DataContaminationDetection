/*
     * To change this license hea der, c     hoose License   Hea     de rs in Proj     ect Properties.
 * T     o change this templ    ate file, choose T ools | Templates
 * and o   pen the template  in  the editor.
 */

package TitanMusicPlayerGUI;

import TitanMusicPlayer.bll.Account;
import java.util.Arrays;
import javax.swing.JO ptionPane;

     /**
 *
 * @author      AJ Green <ajg     reenmail@gmail.co  m>
 */
public    class Accou    ntLogin extends ja   vax.sw     ing     .JFr     ame {
    
       priv    ate     Acco unt account    = null;
    final Str   ing     TEST_US    ER = "titanMP"  ;
        final   St   ring           TEST_P   ASS = "ti    tanPass";
         fi    nal      String TEST_  E     MAIL        = "titanEmail" ;

    /**
         *       Cr  eates new   form User     Login
             */
         p        ublic    Acc       ou ntLogin () {

              initC    omponents();
      } 

    /**   
     * Th  i         s m   etho   d is     called from within th e constructor to initialize t             he form. 
     * WA     RNING: Do   N  O  T mod  ify thi   s code. Th e  content of this method i  s  always
                 * r     e  generated by the Form Edi    tor.
     */
       @SuppressWarnings("unchec       ke       d"     )
      // <edito        r-fold defaultstate="co   l  laps  ed"        desc="Generated  Code">//GEN-BEGIN:initComp     one    nts   
    pri  vate void init          Components()    {

        usernameLabel = new javax   .swing.JL abel();
            passwordLabel = new ja   vax.s   wing.JLabel();
        usernameField = new javax.s  wing.JText Fi  eld();
          loginButton = new javax.swing.J    Button(   )         ;
          c ancelBut   ton = new javax   .swing.JButt on();
           p    as  swordField = new javax.swing.JTe    xtField();

        setDefaultCloseOpe  rat    ion(java  x  .       s wing.Win          dowConstant    s.EXIT_ON_CLOSE);
        setTitl     e("User Log  in");

             usernameLabel.setText("User name:"   );

               p  asswordLa      b       el.setText("Password: ");

         userna    meField.setText     ("    Enter name");
              userna  meField.addF  ocusLi      ste    ner(new java   .awt.even    t.FocusAda   pte      r() {
                      public void focusGai ned(jav    a.awt.event.FocusE            vent evt)      {
                                      us   er   nameFieldFocusGa  ined         (evt);
                      }
              });

           loginButton.s   et      Text("Login");        
        login          Button. addActionL  istener(new                j      ava.awt.e   ven   t.A            c   ti  o nListen e  r() {
             public    void  acti   on      Perfo  rm     ed(java.awt. event.ActionEvent evt) {
                   loginButtonActi onPer            f  o                   rmed(e   vt);
             }
        });
    
        cancelButton.  setText("Cancel"); 
        cance lButton.addAc     tionListener(n ew java.awt.ev         ent.ActionListener () {
            public vo        id acti     onPerfo      rmed(java.awt.event                  .Acti on   Event evt) {   
                              cancelButtonActionPerformed(evt);
            }
        });

          p  asswordField.s  etText(         "E       n       ter Password   ");
                 passwo   rdField.addFocusList  e   ner      (new j    ava.awt.e      vent.F  oc     usAdapter()          {
               publ     ic   v            oid foc                           u    sGained(java. a  w       t.eve    nt.     Foc         u  sE    vent evt)  {
                                 passwordF  ieldFocusGain e     d(evt);
                  }
                });

                   javax.swing.GroupLay      out     layout =       new         java         x.        s w    ing.Gro    upLayout(getConte  ntPane()  );
            getCont entPane()   .setLay    out(la                 yout);   
                layout.  setHorizont    alGroup(
            layout.createPa  rallelGroup(ja   vax.swing.GroupLa   y    out.Ali  gnment.LEADING)
                 .addG    ro  up(layout.createSequenti           alG ro     up()
                .addContai  n  e   rG  ap()
                     .addG  roup(l   ayo   ut.creat  eParallelGr  oup(javax.swing.GroupLayout    .Al       ig  nment.L       EA  DING)   
                       .addGroup(layout.create  SequentialGroup()
                                        .addGap(10, 10, 10 )
                             .addComponen   t(logi   nButton)     
                                 .addGap(18,      18, 1  8)
                          .addC  omponent(cancelB     utton))      
                                         .addGr  oup(lay  out.create     S    equentialGroup()
                                       .addComponent(usernameLabel)
                                   .  addPr       eferredGap(     java     x.swing.              LayoutStyle .Component Placem   ent    .  RELAT       ED)
                                    .addComponent(user nameField, javax.sw   ing.Grou  pLayou   t.PRE           FE RRED_       SIZE, javax.sw ing.G           roupLayout.DEFAU    LT_SIZE,  javax.swing.Grou    pLayout.PRE FERRED_  S    IZE))   
                    .addGro  u      p(layout.    createS   equential     Group()
                           .add   Com  ponen  t(passwordLabel)
                                     .addPreferredGap(jav   ax.swing.Layou  t   S     tyle.ComponentPlacem      ent.RELATED)
                                         .addComponent(password     F   ield,     javax.swing.G    roupLayout.PREFERRED_SIZ   E, javax .swing.Group    Layout.DEFAULT_SIZE, javax.swing.Grou pLayout   .   PREFERRED_SI  ZE)))
                    .a     ddContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
          );

        la  yout.l    inkSize(javax.swin   g.Swi  ngConstants.HORIZONTA   L, n ew java.awt.Component[] {passwordLabel     ,   usernameLa  bel});

          layout.l   inkSize(javax      .swing.SwingConstants.HORIZO   NT    AL     , new        java.awt.C  omponent[] {cancelButton, l      oginButton});

              layout.setVertic  alGroup(
            layout.createP   arallelGr oup(javax.swing.GroupLayout    .Alignment.LEADING)
            .addGroup(      layout.createSequentialGroup()
                     .ad       d    Cont a   inerGap()
                   .addGroup  (       layout.cre    ateParall        elGr  o up(javax.swing.GroupL ayout.A    l  i  gnm   ent.BAS         ELINE)
                    .addCo  mpone   nt(usernameLabel)
                    .addComponent(us  ernam eField, java    x.swing.   GroupL  ayout.PREFERRED_SIZE, javax.swing.GroupLayou     t.DEF       AULT_SIZE, javax.swing.Grou     pLayou t.PREFERR  ED_SIZE))
                    . a         ddPreferredGap(javax.swin  g.    LayoutStyle.Comp     onent    Place     ment.UNRELATED)
                  .addGroup(la    yout.createParallelGroup(javax.swing .GroupLayout.Alignment.BASELI   NE)
                           .addCom      ponent( passwordLabel  )
                    .addCompone      nt(passwordFie      ld, j        av    a        x.swing.Gro  u    pLayout.PREFER     RED_SIZE, j avax.swi   ng   .Grou             pLayout.D   EFAULT_SIZE, javax.swi    ng.GroupLa         yout.PR  EFERRED_      SIZE))
                   .addP referred Gap  ( javax.swing.Lay                     o utStyl  e.    ComponentPlacem   ent.RELATED)
                   .addGro  up(layout  .createP ara    lle  lGroup(javax.swing.Gro  upL  ayou    t.Alig  nment.BA     SELINE)
                        .addComponen     t(can celButton)
                        .addCo   mpo  nent(loginButton )) 
                       .ad   dContainerGap(j  avax.sw   ing.GroupLayout.D       EFAULT   _SIZE  , Short.    MAX_VALU      E))
                   );

        pac k();
    }/   / </ed   ito    r        -fo ld>//G   EN-END:initComponents

    pr i   va    te voi d     usernameFieldFocusGai  n     e     d(java.awt.event.FocusEvent    evt          ) {//GEN-FIRS    T:event_usern          a    meFieldFocusGaine        d
        usernameField.              setText(nul     l);
    }//   GEN-LAST:e    v        e   n t_user   nameFieldFo     cusG     aine     d

           private   void loginButtonActionPerformed(ja      va.a wt.event.ActionEvent evt) {//GEN-FIRST:eve   nt_log   inB  uttonAct          i onPerf    ormed
            if(login(u    sernameFie       ld.get  Text(),    pass w      ordField.getText())  ){
                  JOption   Pane.showMes  sageDialog(null, "Logged  in    as       " +       ac cou    nt.ge  tUser    na     me());
            this.dispose();
        }
    }//GEN-   LAST:event_loginB utton  Actio  nPerformed

        private void cancelButtonActionPerformed(ja      va.   a   w   t.ev  ent.Ac       tionEvent evt) {/    /GEN-F   IRST:event_cancel   Butt onActionPerformed
        this.dispose();
               }          //GEN-LAST:e     vent_cancelButtonActionPerfor  med

    pr  ivate void passwordF     ieldFocusGained(java  .a   wt.eve       nt.FocusEvent evt) {/ /GEN- FIRST:event_    p   asswordFieldFocusGained
        passwordField.set Text(null);
    }/   /GEN-LAST:event   _passwordFie        ldFocusGained

    pri vate     boo   l   ean       login(String username, String password    ){
                   //Will access  DB a   nd load inf   o    on ce DB is confi    gure   d
        //Cur   re       ntly,    test   s single name and password

        boolean succ   ess = false;
        

             
        /     /IF username has match
           if(username.eq    ua  ls(TEST_USER)){
                //   t est if pa   ssword matches stored password
            if(  pa      s   sword.equals(TEST_PAS   S)){
                   //name+pass match,  set account d  etai   ls
                               a   ccount.setEmail(TEST_EMAIL)     ;    
                  account.set Password(TEST_PASS);
                acco   unt.   setUsername(TEST_USE  R);
                //S et flag to true
                success = true;
                    }
        }
         e lse {  //Username not found
            JOptionPane.showMessa   ge Dialog(null, "Invalid username.    Please try again");   
            success = false;
        }
        
                 //Return result of login
        return s   uccess;
    }
      
    //Constructor with passed account object
    public AccountLogin(Account a){
        a     ccount = a;
        JOptionPane.showMes   sageDialog(null, " While D    B is down,     this is a test." 
              + "\nUse us     ername " + TEST_U  SER + " and password " + TEST_PASS);
           initComponents();
    }


    // Va     riables declaration - do not modify//GEN-BEGIN:vari    ables
    private javax.swing.JButton cancelButton;
    private javax.swing.JButton loginButton;
    private javax.swing.JTextField passwordField;
    private javax     .swing.JLabel passwordLabel;
    private javax.swing.JTextField usernameField;
    private javax.swing.JLabel usernameLabel;
    // End of variables declaration//GEN-END:variables
}
