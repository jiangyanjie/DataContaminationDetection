/*
   *    (c) Copyright 2005-2013 J  AXIO, http://www.jaxio.co     m
   * Source code generated by Celerio, a Jaxio  prod    uct
   * Want  to pur     chase Celerio ? email us at info@jaxio.com
        * Follow   u s on twitter: @springfuse
 * Documentation: http://www.jaxio    .com/documentation/celerio/
 * Template   pack-backend-jpa:src/main/java/domai   n/Entity.e.vm.java
 */
package com.artidev.oeildel     ynx.domain;

import static javax.persistence.CascadeType.MERGE;
import static javax.persistence.CascadeType.PER  SIST;
import static javax.persistence.FetchType.LAZY;

im    port java.io.Serializable;

import javax.persis   tence.Column;
import javax.pe    rsistence.EmbeddedId;
import      j   avax.persistence.Entity;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.per  sistence.MapsId;
import javax.persistence.Table;
import javax.persistence.Transient;
import javax.pers     istence.Uniq   ueConstraint;
import javax.validation.constraints.Size;
import javax.xml.bind.ann otation.XmlTransient;

import org.slf4j.Logger;
import org.slf4j.LoggerFa cto    ry;

import com.google.common.base.Objects;

@Entity
@T  able   (name = "decou   verte    _de_p          erso nne", uni  queConstraints = {
        @UniqueConstraint(name = "pk_decouverte_de_    pe     rsonn       e", colu mnNames = { "numero_decouverte", "nu    mer  o_pers"  }),
        @ UniqueC   onstraint(nam  e = "pers_decouverte_pk", columnNames = { "numero_decouverte", "numero_p ers" }) })
public cla    ss DecouverteDePer      sonne implements Identifiable<DecouverteDePe     rsonnePk>, Ser ializable {
            private static final lon    g ser   ialVersi    onU              ID = 1L;
    priv ate static final Logger log = LoggerFactor y.getLogger(D  eco uverteDePe    rsonne.cl  ass);

    // C   omposite    primary key  
        priva      te DecouverteDePers   onnePk    id = new DecouverteDePersonnePk()    ;

      // Raw attributes
           priv ate   String etat;

    //          Many to one
    priva te    D      ecouvert  e       n      umeroDecouv   erte;
    private Personne    num           eroPer   s;

                  // --  -------       ----   ----------
    // Compos      ite    Primary        K  ey
            // ------- ----       --  ------ ----   

              /**
     * Retu    rn   s    t  he c  omp osite primary key.
          */
         @Override
      @Em   bed       dedId
       publi c De      couvert   eD               ePersonnePk getId() {
        return    id;
    }

    /**
     *    Set   the comp osite primary    key.
     * @param id the composite primary key.
      */
    @Override
      p   ubl   ic void setId(     D    ecouver           t                     e    DePer          son     nePk id) {
           this.id  =              i    d;
    }

                  p    ublic Decouver       teDePersonne id(DecouverteDeP   ersonnePk id) {
               setId (id);
        ret       urn this;
    }

    /*  *
     * Tells whether or not this instance   has a non emp   ty composi  te primary           key set  .
       *       @return  tru    e if a non emp   ty primar     y key is set, false otherwise
     */
            @O   ve          rr       id  e
    @Transient              
         @  XmlTransient
    pu  blic boolean  isIdS   et()  {
           return getId() !  = nu   ll && getId().areFiel  ds   Set();
     }
    
       //     -- [etat] ----     --------------------

               @Siz  e(max = 10)
    @Column(na     me   = "etat",   length = 10)
       p          ublic Strin  g g   et          Etat() {
                     ret   urn etat        ;
    }

    public void setEtat(St    ring etat) {
              this.eta   t =  eta  t; 
    }

    public    De                  couver   teDePer   sonne   etat     (Strin g etat) {
                setEtat  (    et  at);
           return this;
    }

                    //    -------------  --    -----  ----- ------------------     ----------------------  
    // Many to One support
    //     ------------------ -------------------  --- ---   ---    -------  ------------

    // - - - - - - -  - - - - - - - - - - - -     - - - -   - - - - - - -   - - -
    // many-to-one: Decouvert    eDePersonne.numeroDecou    verte ==> Decouverte.id
    // - - - -   - -     - - -  - - -               -     - - - -    - - - -         -    - - - - -    - - - - - -

    @J    oinColumn(name = "nu          mero   _decouverte", nullable = false)
    @ManyToOne (cascade = { PERSI   ST, MERGE }  , fetch     = LAZY    )
    @MapsId    (value = "n umeroDec       ouverte")
           publ ic Decouvert    e getN    umeroDe   cou ve         rte() {
             return  numeroDec ouver te  ;
    }

    /   **
     * Set the    {@link #nu  mer     oDe  couvert   e} without adding th  is De   co    uvert eDeP  e    rsonne instance          on t h e passed {@l      ink #  numeroDecouverte}
                   */
    pu  blic      void setNumeroDecouv   e  rte(Decouverte       numeroDecouv      ert  e) {
             this  .nume  roDecouverte = n        um    e   r     oDecouverte  ;
    }

             pub      lic   Decou   verteDePer    sonne numeroDeco    uverte(   Decouverte numeroDec ouverte)       {
        setNu    mer oDecouverte( nu       mer   oD   ecouvert      e);
             return this;
    }

    // - - - - - - - - - -         - - - - -     - - - -    - - - - - - - -    -    - - -    - -
                // ma          n      y-t     o-one: Decouv    erteDeP     erson   ne.numeroPers ==  > Per      son  ne.id
    // - - - -   -     - - - - - - -  - - - - - - - - -      - - - - - - - -     - - - -
  
    @JoinColumn(n    ame = "nume ro_pers", nullab        le = false)
    @ManyT    o    O ne(casc     ade = { PERSIST, ME      RGE }, fetc    h = LAZY)
       @  MapsId    (val ue =  "numeroPers")
          public   Pers   onne getNum   e roPers() {
                                  return n  umeroPer      s;
      }

    /**
     * Set the  {@link #    numeroPers}    w     ithout addi   ng this Decouve       rteDe        Personne instance on the passed {@l     ink # num  eroPers}
     */
    public void setNumeroPers(P erso  nne      numer   oPers)   {
          this.num eroPers = numeroPers;
    }

    public Decouv   erteDePersonne numer    oP   ers(Person   ne numeroPer     s) {
        setNumeroP      ers(numeroP     er  s);
        retur   n this;
    }

      /**
        *     Appl  y the default val  ues.
         */
      publ    i    c DecouverteDePersonne withDef   aults() {
            return this;  
    }

        /**
       * Equals implementat    ion usin        g a business key.
              */
    @Override
          pub          lic b     oolean equals(Ob ject other) {
        return this  == o   ther || (other instanceof Dec     ouverteDePersonne && hashCode() == o   ther.hashCode());
    }

    private Identifiable  HashBuilder identifiableHashBuilder = new IdentifiableHashBuilder();

    @Override
    public int hashCode() {
        return identifiableHashBuilder.hash(log, this);
    }

    /**
         *     Construct a readable string repres   entation for this DecouverteDePersonne     instance.
     * @see java.lang.Ob  ject#toString()
     */
    @Override
    public String toString() {
        return Objects.toStringHelper(this) //
                .add(DecouverteDePersonne_.etat.getName(), getEtat()) //
                .toString();
    }
}